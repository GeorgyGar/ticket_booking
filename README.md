
# Ticket Booking Application

Приложение для бронирования билетов с реализацией REST API на Spring Boot, использованием PostgreSQL в качестве базы данных и JWT-аутентификацией.

---

## Оглавление

- [Описание](#описание)  
- [Технологии](#технологии)  
- [Установка и запуск](#установка-и-запуск)  
- [API](#api)  
- [База данных](#база-данных)  
- [Аутентификация](#аутентификация)  
- [Docker](#docker)  
- [Тестирование](#тестирование)  

---

## Описание

Приложение позволяет пользователям просматривать маршруты, покупать билеты и управлять ими. Администраторы могут управлять перевозчиками, маршрутами и пользователями.

---

## Технологии

- Java 21  
- Spring Boot 3  
- PostgreSQL 15  
- JWT (JSON Web Token) для аутентификации  
- Docker и Docker Compose для контейнеризации  

---

## Установка и запуск

### Запуск с Docker Compose

1. Убедиться, что установлен Docker и Docker Compose  
2. В корне проекта выполнить команду:

   ```bash
   docker compose up --build
   ```

3. Приложение будет доступно на [http://localhost:8080](http://localhost:8080)

---

## API

Для тестирования API рекомендуется использовать Swagger UI:

```
http://localhost:8080/swagger-ui.html
```

Основные возможности API:

- Просмотр перевозчиков и маршрутов  
- Регистрация и аутентификация пользователей  
- Покупка и управление билетами  
- Управление ролями (ADMIN/BUYER) с разграничением доступа  

---

## База данных

В проекте используется PostgreSQL с таблицами:

- `carrier` — перевозчики  
- `route` — маршруты  
- `app_user` — пользователи  
- `ticket` — билеты  

В проекте есть SQL-скрипты для создания и наполнения таблиц начальными данными.

---

## Аутентификация

Используется JWT с Access и Refresh токенами. Access токен ограничен по времени. Роли пользователей:

- ADMIN — администратор системы  
- BUYER — покупатель  

---

## Тестирование

Для запуска тестов:

```bash
./mvnw test
```
